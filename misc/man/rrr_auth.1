.Dd 2020-09-16
.TH RRR_AUTH 1
.SH NAME
Read Route Record is a dynamic module-based message handling program
for collecting, buffering, processing and storing messages and measurements.
.PP
.B rrr_auth
authenticates users against a password file generated by  
.Xr rrr_passwd(1).
.SH SYNOPSIS
.B rrr_auth {PASSWORD_FILE} {USERNAME}
.Dl [-p|--permission[=]PERMISSION]
.Dl [-s|--stdin]
.Dl [-l|--loglevel-translation]
.Dl [-e|--environment-file[=]ENVIRONMENT FILE]
.Dl [-d|--debuglevel[=]DEBUG FLAGS]
.Dl [-D|--debuglevel-on-exit[=]DEBUG FLAGS]
.Dl [-h|--help]
.Dl [-v|--version]

.SH DESCRIPTION
This program authenticates a user according to given parameters.
.SH OPTIONS
.IP PASSWORD_FILE
The password file to use. Required parameter.
.IP USERNAME
The username to authenticate. Required parameter.
.IP -p|--permission[=]PERMISSION
A permission to require for the user. If not given, permissions are not checked for and only the password is validated.
.IP -s|--stdin
Read password from STDIN ending with EOF. If not given, terminal input with a prompt is performed.
.IP -d|--debuglevel[=]FLAGS
Debuglevel to use.
.IP -D|--debuglevel-on-exit[=]FLAGS
Debuglevel to use when program exits.
.IP -l|--loglevel-translation
Translate output loglevels to RFC5424 format. Internal loglevels will be translated so that error messages become ERROR
and other messages DEBUG (loglevels 3 and 7).
.IP -e|--environment-file
See
.Xr rrr(1)
for usage.

.SH RETURN VALUE
.B rrr_auth
returns 0 on successful authentication and 1 on failure. Nothing is printed upon successful authentication unless debuglevel 1 is set.
.PP
Read
.B SECURITY NOTES
below before enabling debugging.

.SH SECURITY NOTES
If debuglevel 1 is set (and possibly others), the program might expose whether a user exists or not.
This should be avoided if
.B rrr_auth
is used for for actual authentication and not just testing.

.SH DEBUG FLAGS
Refer to
.Xr rrr(1)
for possible debug flags. See also
.B RETURN VALUE
and
.B SECURITY NOTES.

.SH SEE ALSO
.Xr rrr(1),
.Xr rrr_passwd(1)
